function updateMessages(messagesNode) {
  let messnode = document.getElementById('messages');
  messnode.insertAdjacentHTML('beforeend', messagesNode);
  console.log('hey');
}
function updateForm(form ){
  console.log('hey2');

  let messnode = document.getElementById('messages');
  console.log('hey3');

  document.getElementById('message-form').innerHTML = form;
  console.log('hey4');
}
<% unless @group.nil? %>
 document.getElementById('messages').innerHTML ="";
 <% @messages.each do |message| %>
   updateMessages('<%= j render 'message', message: message %>');
  <% end %>
   updateForm('<%= j render 'group_form' %>');
  <% end %>
